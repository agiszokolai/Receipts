import{E as A,H as G,b as T,c,d as O,e as z,f as V,g,i as y,m as R,p as j,v as N,w as L}from"./chunk-TMOWURAR.js";import{Ba as x,C as Z,Da as h,Ea as p,G as E,Ga as M,Ha as m,K as f,L as C,O as b,Q as S,T as W,Wa as P,_ as a,ea as I,ia as d,jb as k,k as q,ma as F,qa as s,rb as Q,v as J,va as r,vb as U,wa as l,wb as D,xa as _}from"./chunk-TQGG3II2.js";var H=class e{addLikedReceipt(i,t){return q(void 0)}removeLikedReceipt(i,t){return q(void 0)}addSavedReceipt(i,t,o){return q(void 0)}removeSavedReceipt(i,t){return q(void 0)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"})};var X=[{email:"a@a.com",password:"alma11",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkxpYSBEb2UiLCJpYXQiOjE1MTYyMzkwMjIsIm5hbWVJZCI6IjEifQ.X64kTqTCgs_wrI4hqU974-oK2VuRIZMzrHt7vpZxW80"},{email:"john@smith.com",password:"alma11",token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gU21pdGgiLCJpYXQiOjE1MTYyMzkwMjIsIm5hbWVJZCI6IjIifQ.aumSCOyFQWAhhf7bCTRF_mqmFRaKWovqgSZaBQVTAMk"}],Ne=[{userId:"1",name:"Lia Doe",username:"liadoe",email:"a@a.com",password:"alma",description:"I am a chef and I love to cook",profilePictureUrl:"../../../../assets/images/users/kiss-anna.jpg",receipts:{saved:[1,2],liked:[1,2,3,4,9,7,6],created:[1,2,7],collections:[{id:0,name:"Reggelik",receipts:[1]},{id:1,name:"Vacsor\xE1k",receipts:[2]},{id:2,name:"Kedvenc",receipts:[4]}]}},{userId:"2",name:"John Smith",username:"johnsmith",email:"john@smith.com",password:"alma",description:"Food lover and home chef",profilePictureUrl:"../../../../assets/images/users/john-smith.jpg",receipts:{saved:[3,4,5],liked:[2,5,4],created:[3,5,6],collections:[{id:0,name:"Reggelik",receipts:[4,5,6]}]}},{userId:"3",name:"Emma Brown",username:"emmabrown",email:"emma@brown.com",password:"alma",description:"Baking enthusiast",profilePictureUrl:"../../../../assets/images/users/emma-brown.jpg",receipts:{saved:[6,7,8,9],liked:[1,3,5,7,9],created:[8,9],collections:[{id:0,name:"Reggelik",receipts:[4,5,6]}]}}];function oe(e,i){e&1&&(r(0,"small"),m(1," Az e-mail c\xEDm megad\xE1sa k\xF6telez\u0151! "),l())}function ne(e,i){e&1&&(r(0,"small"),m(1," \xC9rv\xE9nytelen e-mail c\xEDm form\xE1tum! "),l())}function ie(e,i){if(e&1&&(r(0,"div",6),d(1,oe,2,0,"small")(2,ne,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.forgotPasswordForm.get("confirmEmail"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.forgotPasswordForm.get("confirmEmail"))!=null&&o.hasError("invalidEmail")?2:-1)}}function re(e,i){e&1&&(r(0,"small"),m(1," Az \xFAj jelsz\xF3 megad\xE1sa k\xF6telez\u0151! "),l())}function le(e,i){e&1&&(r(0,"small"),m(1," A jelsz\xF3nak legal\xE1bb 6 karakter hossz\xFAnak kell lennie! "),l())}function ae(e,i){if(e&1&&(r(0,"div",6),d(1,re,2,0,"small")(2,le,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.forgotPasswordForm.get("newPassword"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.forgotPasswordForm.get("newPassword"))!=null&&o.hasError("minlength")?2:-1)}}function se(e,i){e&1&&(r(0,"small"),m(1," A jelsz\xF3t meg kell er\u0151s\xEDteni! "),l())}function me(e,i){e&1&&(r(0,"small"),m(1," A jelszavak nem egyeznek!"),l())}function de(e,i){if(e&1&&(r(0,"div",6),d(1,se,2,0,"small")(2,me,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.forgotPasswordForm.get("passwordConfirm"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.forgotPasswordForm.get("passwordConfirm"))!=null&&o.hasError("passwordConfirm")?2:-1)}}function pe(e,i){if(e&1&&(r(0,"form",2)(1,"div",3),_(2,"input",4),r(3,"label",5),m(4,"E-mail c\xEDm:"),l()(),d(5,ie,3,2,"div",6),r(6,"div",3),_(7,"input",7),r(8,"label",8),m(9,"\xDAj jelsz\xF3:"),l()(),d(10,ae,3,2,"div",6),r(11,"div",3),_(12,"input",9),r(13,"label",10),m(14,"Jelsz\xF3 m\xE9gegyszer:"),l()(),d(15,de,3,2,"div",6),l()),e&2){let t,o,n,u=p();F("formGroup",u.forgotPasswordForm),a(5),s((t=u.forgotPasswordForm.get("confirmEmail"))!=null&&t.touched&&((t=u.forgotPasswordForm.get("confirmEmail"))!=null&&t.invalid)?5:-1),a(5),s((o=u.forgotPasswordForm.get("newPassword"))!=null&&o.touched&&((o=u.forgotPasswordForm.get("newPassword"))!=null&&o.invalid)?10:-1),a(5),s((n=u.forgotPasswordForm.get("passwordConfirm"))!=null&&n.touched&&((n=u.forgotPasswordForm.get("passwordConfirm"))!=null&&n.invalid)?15:-1)}}var B=class e{isForgotPasswordModalOpen=S(!1);closeEvent=new b;forgotPasswordForm=new V({confirmEmail:new g("",[c.required,D()]),password:new g("",[c.required,c.minLength(6)]),passwordConfirm:new g("",[c.required,U()])});authService=E(G);toastr=E(A);ngOnInit(){console.log("init",X)}onSubmit(i){this.forgotPasswordForm.valid&&this.authService.setNewPassword(i.confirmEmail,i.newPassword).subscribe({next:t=>{t&&(this.toastr.success("Sikeres jelsz\xF3 be\xE1ll\xEDt\xE1s!"),this.closeEvent.emit(),this.forgotPasswordForm.reset())},error:()=>{this.toastr.error("Hiba t\xF6rt\xE9nt a jelsz\xF3 be\xE1ll\xEDt\xE1sa sor\xE1n!")}})}closeModal(){this.isForgotPasswordModalOpen()&&this.closeEvent.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-forgot-password"]],inputs:{isForgotPasswordModalOpen:[1,"isForgotPasswordModalOpen"]},outputs:{closeEvent:"closeEvent"},decls:3,vars:7,consts:[["forgotPassword",""],[3,"submitEvent","closeEvent","isModalVisible","header","size","footerButtonLabel","isFooterCancelVisible","formGroup","formTemplate"],[3,"formGroup"],[1,"form-group"],["type","email","id","forgot-email","formControlName","confirmEmail","placeholder"," "],["for","forgot-email"],[1,"alert"],["type","password","id","new-password","formControlName","password","placeholder"," "],["for","new-password"],["type","password","id","password-confirm","formControlName","passwordConfirm","placeholder"," "],["for","password-confirm"]],template:function(t,o){if(t&1){let n=x();r(0,"app-modal",1),h("submitEvent",function(v){return f(n),C(o.onSubmit(v))})("closeEvent",function(){return f(n),C(o.closeModal())}),l(),d(1,pe,16,4,"ng-template",null,0,P)}if(t&2){let n=M(2);F("isModalVisible",o.isForgotPasswordModalOpen())("header","\xDAj jelsz\xF3 be\xE1ll\xEDt\xE1sa")("size","medium")("footerButtonLabel","Ment\xE9s")("isFooterCancelVisible",!0)("formGroup",o.forgotPasswordForm)("formTemplate",n)}},dependencies:[L,N,y,T,O,z,R,j,k],styles:[".form-group[_ngcontent-%COMP%]{justify-content:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:80%;margin-left:0}.alert[_ngcontent-%COMP%]{color:red;padding:0;margin-top:-15px;margin-bottom:0}"]})};function ue(e,i){e&1&&(r(0,"small"),m(1," Az e-mail c\xEDm megad\xE1sa k\xF6telez\u0151! "),l())}function ce(e,i){e&1&&(r(0,"small"),m(1," \xC9rv\xE9nytelen e-mail c\xEDm form\xE1tum! "),l())}function _e(e,i){if(e&1&&(r(0,"div",7),d(1,ue,2,0,"small")(2,ce,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.logInForm.get("email"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.logInForm.get("email"))!=null&&o.hasError("invalidEmail")?2:-1)}}function ge(e,i){e&1&&(r(0,"small"),m(1," A jelsz\xF3 megad\xE1sa k\xF6telez\u0151! "),l())}function fe(e,i){e&1&&(r(0,"small"),m(1," A jelsz\xF3nak legal\xE1bb 6 karakter hossz\xFAnak kell lennie! "),l())}function Ce(e,i){if(e&1&&(r(0,"div",7),d(1,ge,2,0,"small")(2,fe,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.logInForm.get("password"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.logInForm.get("password"))!=null&&o.hasError("minlength")?2:-1)}}function we(e,i){if(e&1){let t=x();r(0,"form",3)(1,"div",4),_(2,"input",5),r(3,"label",6),m(4,"E-mail c\xEDm:"),l()(),d(5,_e,3,2,"div",7),r(6,"div",4),_(7,"input",8),r(8,"label",9),m(9,"Jelsz\xF3:"),l()(),d(10,Ce,3,2,"div",7),r(11,"div",10)(12,"a",11),h("click",function(){f(t);let n=p();return C(n.onForgotPasswordClick())})("keydown",function(){f(t);let n=p();return C(n.onForgotPasswordClick())}),m(13,"Elfelejtettem a jelszavam"),l()()()}if(e&2){let t,o,n=p();F("formGroup",n.logInForm),a(5),s((t=n.logInForm.get("email"))!=null&&t.touched&&((t=n.logInForm.get("email"))!=null&&t.invalid)?5:-1),a(5),s((o=n.logInForm.get("password"))!=null&&o.touched&&((o=n.logInForm.get("password"))!=null&&o.invalid)?10:-1)}}function ve(e,i){if(e&1){let t=x();r(0,"app-forgot-password",12),h("closeEvent",function(){f(t);let n=p();return C(n.closePasswordModal())}),l()}if(e&2){let t=p();F("isForgotPasswordModalOpen",t.isForgotPasswordModalOpen())}}var ee=class e{isLoginModalOpen=S(!1);isForgotPasswordModalOpen=W(!1);isModalOpen=W(!1);closeEvent=new b;logInForm=new V({email:new g("",[c.required,D()]),password:new g("",[c.required,c.minLength(6)])});authService=E(G);toastr=E(A);ngOnInit(){this.isModalOpen.set(this.isLoginModalOpen())}onSubmit(i){console.log(i),i&&this.authService.logIn(i.email,i.password).pipe(J(1)).subscribe({next:t=>{t&&(this.toastr.success("Sikeres bejelentkez\xE9s!"),this.logInForm.reset(),this.closeEvent.emit())},error:()=>{this.toastr.error("Hiba t\xF6rt\xE9nt a bejelentkez\xE9s sor\xE1n!")}})}onForgotPasswordClick(){this.isForgotPasswordModalOpen.set(!0),this.logInForm.reset(),this.isModalOpen.set(!1)}closePasswordModal(){this.isForgotPasswordModalOpen.set(!1)}closeModal(){this.isLoginModalOpen()&&this.closeEvent.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-login"]],inputs:{isLoginModalOpen:[1,"isLoginModalOpen"]},outputs:{closeEvent:"closeEvent"},decls:4,vars:8,consts:[["login",""],[3,"submitEvent","closeEvent","isModalVisible","header","size","footerButtonLabel","isFooterCancelVisible","formGroup","formTemplate"],[3,"isForgotPasswordModalOpen"],[3,"formGroup"],[1,"form-group"],["type","email","id","login-email","formControlName","email","placeholder"," "],["for","login-email"],[1,"alert"],["type","password","id","password","formControlName","password","placeholder"," "],["for","password"],[1,"forgot-password-div","mt-5"],["tabindex","0",3,"click","keydown"],[3,"closeEvent","isForgotPasswordModalOpen"]],template:function(t,o){if(t&1){let n=x();r(0,"app-modal",1),h("submitEvent",function(v){return f(n),C(o.onSubmit(v))})("closeEvent",function(){return f(n),C(o.closeModal())}),l(),d(1,we,14,3,"ng-template",null,0,P)(3,ve,1,1,"app-forgot-password",2)}if(t&2){let n=M(2);F("isModalVisible",o.isModalOpen())("header","Bejelentkez\xE9s")("size","medium")("footerButtonLabel","Bejelentkez\xE9s")("isFooterCancelVisible",!0)("formGroup",o.logInForm)("formTemplate",n),a(3),s(o.isForgotPasswordModalOpen()?3:-1)}},dependencies:[k,N,y,T,O,z,R,j,L,B],styles:[".form-group[_ngcontent-%COMP%]{justify-content:center}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:80%;margin-left:0}.alert[_ngcontent-%COMP%]{color:red;padding:0;margin-top:-15px;margin-bottom:0}.forgot-password-div[_ngcontent-%COMP%]{color:#03045e;transition:all .3s ease-in-out;cursor:pointer}.forgot-password-div[_ngcontent-%COMP%]:hover{color:#0096c7}"]})};function Ee(e,i){e&1&&(r(0,"small"),m(1,"Az e-mail c\xEDm megad\xE1sa k\xF6telez\u0151!"),l())}function Fe(e,i){e&1&&(r(0,"small"),m(1,"\xC9rv\xE9nytelen e-mail c\xEDm form\xE1tum!"),l())}function xe(e,i){if(e&1&&(r(0,"div",6),d(1,Ee,2,0,"small")(2,Fe,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.registrationForm.get("email"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.registrationForm.get("email"))!=null&&o.hasError("invalidEmail")?2:-1)}}function he(e,i){e&1&&(r(0,"small"),m(1,"A n\xE9v megad\xE1sa k\xF6telez\u0151!"),l())}function be(e,i){if(e&1&&(r(0,"div",6),d(1,he,2,0,"small"),l()),e&2){let t,o=p(2);a(),s((t=o.registrationForm.get("name"))!=null&&t.hasError("required")?1:-1)}}function Se(e,i){e&1&&(r(0,"small"),m(1,"A felhaszn\xE1l\xF3n\xE9v megad\xE1sa k\xF6telez\u0151!"),l())}function Ie(e,i){if(e&1&&(r(0,"div",6),d(1,Se,2,0,"small"),l()),e&2){let t,o=p(2);a(),s((t=o.registrationForm.get("username"))!=null&&t.hasError("required")?1:-1)}}function Me(e,i){e&1&&(r(0,"small"),m(1,"A jelsz\xF3 megad\xE1sa k\xF6telez\u0151!"),l())}function Pe(e,i){e&1&&(r(0,"small"),m(1,"A jelsz\xF3nak legal\xE1bb 6 karakter hossz\xFAnak kell lennie!"),l())}function ke(e,i){if(e&1&&(r(0,"div",6),d(1,Me,2,0,"small")(2,Pe,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.registrationForm.get("password"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.registrationForm.get("password"))!=null&&o.hasError("minlength")?2:-1)}}function Te(e,i){e&1&&(r(0,"small"),m(1,"A jelsz\xF3t meg kell er\u0151s\xEDteni!"),l())}function Oe(e,i){e&1&&(r(0,"small"),m(1,"A jelszavak nem egyeznek!"),l())}function ze(e,i){if(e&1&&(r(0,"div",6),d(1,Te,2,0,"small")(2,Oe,2,0,"small"),l()),e&2){let t,o,n=p(2);a(),s((t=n.registrationForm.get("passwordConfirm"))!=null&&t.hasError("required")?1:-1),a(),s((o=n.registrationForm.get("passwordConfirm"))!=null&&o.hasError("passwordConfirm")?2:-1)}}function Ve(e,i){if(e&1&&(r(0,"form",2)(1,"div",3),_(2,"input",4),r(3,"label",5),m(4,"E-mail c\xEDm:"),l()(),d(5,xe,3,2,"div",6),r(6,"div",3),_(7,"input",7),r(8,"label",8),m(9,"N\xE9v:"),l()(),d(10,be,2,1,"div",6),r(11,"div",3),_(12,"input",9),r(13,"label",10),m(14,"Felhaszn\xE1l\xF3n\xE9v:"),l()(),d(15,Ie,2,1,"div",6),r(16,"div",3),_(17,"input",11),r(18,"label",12),m(19,"Jelsz\xF3:"),l()(),d(20,ke,3,2,"div",6),r(21,"div",3),_(22,"input",13),r(23,"label",14),m(24,"Jelsz\xF3 meger\u0151s\xEDt\xE9se:"),l()(),d(25,ze,3,2,"div",6),l()),e&2){let t,o,n,u,v,w=p();F("formGroup",w.registrationForm),a(5),s((t=w.registrationForm.get("email"))!=null&&t.touched&&((t=w.registrationForm.get("email"))!=null&&t.invalid)?5:-1),a(5),s((o=w.registrationForm.get("name"))!=null&&o.touched&&((o=w.registrationForm.get("name"))!=null&&o.invalid)?10:-1),a(5),s((n=w.registrationForm.get("username"))!=null&&n.touched&&((n=w.registrationForm.get("username"))!=null&&n.invalid)?15:-1),a(5),s((u=w.registrationForm.get("password"))!=null&&u.touched&&((u=w.registrationForm.get("password"))!=null&&u.invalid)?20:-1),a(5),s((v=w.registrationForm.get("passwordConfirm"))!=null&&v.touched&&((v=w.registrationForm.get("passwordConfirm"))!=null&&v.invalid)?25:-1)}}var te=class e{isRegistrationModalOpen=S(!1);closeEvent=new b;registrationForm=new V({email:new g("",[c.required,D()]),username:new g("",c.required),name:new g("",c.required),password:new g("",[c.required]),passwordConfirm:new g("",[c.required,U()])});authService=E(G);router=E(Q);toastr=E(A);onSubmit(i){this.registrationForm.valid&&this.authService.registration(i.email,i.name,i.username,i.password).pipe(J(1)).subscribe({next:()=>{this.closeModal(),this.toastr.success("Sikeres regisztr\xE1ci\xF3!"),this.router.navigate(["/profil",i.username])},error:t=>{this.toastr.warning("Hiba t\xF6rt\xE9nt a regisztr\xE1ci\xF3 sor\xE1n"),console.log("Hiba t\xF6rt\xE9nt:",t.message)}})}closeModal(){this.isRegistrationModalOpen()&&this.closeEvent.emit()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=I({type:e,selectors:[["app-registration"]],inputs:{isRegistrationModalOpen:[1,"isRegistrationModalOpen"]},outputs:{closeEvent:"closeEvent"},decls:3,vars:7,consts:[["registration",""],[3,"submitEvent","closeEvent","isModalVisible","header","size","footerButtonLabel","isFooterCancelVisible","formGroup","formTemplate"],[3,"formGroup"],[1,"form-group"],["type","email","id","email","formControlName","email","placeholder"," "],["for","email"],[1,"alert"],["type","text","id","name","formControlName","name","placeholder"," "],["for","name"],["type","text","id","username","formControlName","username","placeholder"," "],["for","username"],["type","password","id","password","formControlName","password","placeholder"," "],["for","password"],["id","passwordConfirm","type","password","formControlName","passwordConfirm","placeholder"," "],["for","passwordConfirm"]],template:function(t,o){if(t&1){let n=x();r(0,"app-modal",1),h("submitEvent",function(v){return f(n),C(o.onSubmit(v))})("closeEvent",function(){return f(n),C(o.closeModal())}),l(),d(1,Ve,26,6,"ng-template",null,0,P)}if(t&2){let n=M(2);F("isModalVisible",o.isRegistrationModalOpen())("header","Regisztr\xE1ci\xF3")("size","medium")("footerButtonLabel","Regisztr\xE1ci\xF3")("isFooterCancelVisible",!0)("formGroup",o.registrationForm)("formTemplate",n)}},dependencies:[L,k,N,y,T,O,z,R,j],encapsulation:2})};export{X as a,Ne as b,ee as c,te as d,H as e};
