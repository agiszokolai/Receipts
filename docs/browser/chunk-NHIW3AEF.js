import{$ as h,Aa as K,D as A,E as H,Ea as T,Ha as Q,J as F,Ja as X,M as R,N as W,O as j,R as w,W as V,_ as y,ca as z,da as B,ea as L,fa as N,g as c,ga as P,gb as tt,ha as Y,ia as E,jb as et,ka as Z,ma as M,na as G,o as l,oa as U,p as C,pa as q,q as f,qa as J,r as b,s as O,t as I,va as S,w as $,wa as k,x as D,xa as _,y as n,z as p}from"./chunk-TQGG3II2.js";function st(i,v){if(i&1&&(S(0,"div",1),Q(1),k()),i&2){let t=T();y(),X(" ",t.tooltipStr," ")}}function nt(i,v){if(i&1&&_(0,"div",2),i&2){let t=T();M("innerHTML",t.tooltipHtml,V)}}function lt(i,v){i&1&&K(0)}function rt(i,v){if(i&1&&(S(0,"div"),E(1,lt,1,0,"ng-container",3),k()),i&2){let t=T();y(),M("ngTemplateOutlet",t.tooltipTemplate)("ngTemplateOutletContext",t.tooltipContext)}}var r={id:0,placement:"top",autoPlacement:!0,contentType:"string",textColor:"black",backgroundColor:"white",borderColor:"blue",textAlign:"center",padding:"5px 8px",shadow:!0,showDelay:0,hideDelay:0,hideDelayTouchscreen:0,hideDelayAfterClick:0,zIndex:0,animationDuration:100,animationDurationDefault:100,trigger:"hover",tooltipClass:"",display:!0,displayTouchscreen:!0,offset:8,maxWidth:"200px",pointerEvents:"auto"},ot=new H("TooltipOptions"),it=(()=>{class i{constructor(t,e){this.elementRef=t,this.renderer=e,this.userClickOutsideTooltipSubject=new c,this.userClickOutsideTooltip$=this.userClickOutsideTooltipSubject.asObservable(),this.visibilityChangeCompletedSubject=new c,this.visibilityChangeCompleted$=this.visibilityChangeCompletedSubject.asObservable(),this.destroy$=new c,this.tooltipState="hide",this.tooltipClass=!0,this.prioritizedPlacements=["bottom","right","top","left","bottom-left","top-left"]}ngOnInit(){this.listenToClicksOutsideTooltip(),this.listenToFadeInEnd(),this.listenToFadeOutEnd()}showTooltip(t){this.setTooltipProperties(t),this.tooltipState="show",setTimeout(()=>{this.setPosition()})}hideTooltip(){this.tooltipState="hide"}setPosition(){let t=this.calculateTooltipStylesForPlacement(this.originalPlacement);if(!this.isPlacementInsideVisibleArea(t)&&this.autoPlacement)for(let o of this.prioritizedPlacements){let s=this.calculateTooltipStylesForPlacement(o);if(this.isPlacementInsideVisibleArea(s)){t=s;break}}this.removeAllPlacementClasses(),this.setPlacementStyles(t)}listenToClicksOutsideTooltip(){l(window,"click").pipe(p(t=>{let e=t.target;this.elementRef.nativeElement&&!this.elementRef.nativeElement.contains(e)&&this.userClickOutsideTooltipSubject.next(t)}),n(this.destroy$)).subscribe()}listenToFadeInEnd(){l(this.elementRef.nativeElement,"transitionend").pipe(b(t=>t.propertyName==="opacity"&&this.tooltipState==="show"),p(()=>this.visibilityChangeCompletedSubject.next({type:"shown"})),n(this.destroy$)).subscribe()}listenToFadeOutEnd(){l(this.elementRef.nativeElement,"transitionend").pipe(b(t=>t.propertyName==="opacity"&&this.tooltipState==="hide"),p(()=>this.visibilityChangeCompletedSubject.next({type:"hidden"})),n(this.destroy$)).subscribe()}setTooltipProperties(t){this.currentContentType=t.options.contentType??"string",this.currentContentType==="string"&&t.tooltipStr&&(this.tooltipStr=t.tooltipStr),this.currentContentType==="html"&&t.tooltipHtml&&(this.tooltipHtml=t.tooltipHtml),this.currentContentType==="template"&&t.tooltipTemplate&&(this.tooltipTemplate=t.tooltipTemplate,this.tooltipContext=t.tooltipContext),this.hostElement=t.hostElement,this.hostElementPosition=t.hostElementPosition,this.originalPlacement=t.options.placement??r.placement,this.autoPlacement=t.options.autoPlacement??r.autoPlacement,this.tooltipOffset=t.options.offset?+t.options.offset:+(r.offset??0),this.setCustomClass(t.options),this.setZIndex(t.options),this.setPointerEvents(t.options),this.setAnimationDuration(t.options),this.setStyles(t.options)}setPlacementStyles(t){this.hostStyleTop=`${t.topStyle}px`,this.hostStyleLeft=`${t.leftStyle}px`,this.renderer.addClass(this.elementRef.nativeElement,`tooltip-${t.placement??""}`)}removeAllPlacementClasses(){this.prioritizedPlacements.forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,`tooltip-${t}`)})}calculateTooltipStylesForPlacement(t){let e=this.hostElement instanceof SVGElement,o=this.elementRef.nativeElement,s=o.clientHeight,a=o.clientWidth,d=window.scrollY,m=e?this.hostElement.getBoundingClientRect().height:this.hostElement.offsetHeight,x=e?this.hostElement.getBoundingClientRect().width:this.hostElement.offsetWidth;!(this.hostElementPosition instanceof DOMRect)&&(m=0,x=0);let g,u;switch(t){case"top":case"top-left":g=this.hostElementPosition.top+d-(s+this.tooltipOffset);break;case"bottom":case"bottom-left":g=this.hostElementPosition.top+d+(m+this.tooltipOffset);break;case"left":case"right":g=this.hostElementPosition.top+d+m/2-o.clientHeight/2;break}switch(t){case"top":case"bottom":u=this.hostElementPosition.left+x/2-a/2;break;case"top-left":case"bottom-left":u=this.hostElementPosition.left;break;case"left":u=this.hostElementPosition.left-a-this.tooltipOffset;break;case"right":u=this.hostElementPosition.left+x+this.tooltipOffset;break}return{placement:t,topStyle:g,leftStyle:u,tooltipHeight:s,tooltipWidth:a,scrollY:d,clientWidth:document.body.clientWidth}}isPlacementInsideVisibleArea(t){let e=t.topStyle-t.scrollY,o=t.topStyle+t.tooltipHeight,s=t.leftStyle,a=t.leftStyle+t.tooltipWidth,d=window.innerHeight+t.scrollY,m=t.clientWidth;return e>=0&&o<=d&&s>=0&&a<=m}setCustomClass(t){t.tooltipClass&&t.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setZIndex(t){t.zIndex&&t.zIndex>0&&(this.hostStyleZIndex=t.zIndex??r.zIndex??0)}setPointerEvents(t){t.pointerEvents&&(this.hostStylePointerEvents=t.pointerEvents)}setAnimationDuration(t){let e=t.animationDuration?t.animationDuration:t.animationDurationDefault;this.transitionTime=`${e}ms`}setStyles(t){this.textColor=t.textColor??r.textColor,this.textAlign=t.textAlign??r.textAlign,this.hostStylePadding=t.padding??r.padding,this.backgroundColor=t.backgroundColor??r.backgroundColor,this.borderColor=t.borderColor??r.borderColor,this.hostClassShadow=t.shadow??!0,t.minWidth&&(this.hostStyleMinWidth=t.minWidth),t.maxWidth&&(this.hostStyleMaxWidth=t.maxWidth),t.width&&(this.hostStyleWidth=t.width)}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}static{this.\u0275fac=function(e){return new(e||i)(h(w),h(z))}}static{this.\u0275cmp=L({type:i,selectors:[["tooltip"]],hostVars:32,hostBindings:function(e,o){e&2&&(q(o.tooltipState),G("--transition-time",o.transitionTime)("top",o.hostStyleTop)("left",o.hostStyleLeft)("padding",o.hostStylePadding)("z-index",o.hostStyleZIndex)("width",o.hostStyleWidth)("min-width",o.hostStyleMinWidth)("max-width",o.hostStyleMaxWidth)("pointer-events",o.hostStylePointerEvents)("--tooltip-text-color",o.textColor)("--tooltip-text-align",o.textAlign)("--tooltip-background-color",o.backgroundColor)("--tooltip-border-color",o.borderColor),U("tooltip",o.tooltipClass)("tooltip-shadow",o.hostClassShadow))},decls:4,vars:1,consts:[[1,"tooltip-arrow"],[1,"tooltip-label"],[1,"tooltip-label",3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,o){if(e&1&&(_(0,"div",0),E(1,st,2,1,"div",1)(2,nt,1,1,"div",2)(3,rt,2,2,"div")),e&2){let s;y(),J((s=o.currentContentType)==="string"?1:s==="html"?2:s==="template"?3:-1)}},dependencies:[et,tt],styles:['[_nghost-%COMP%]{transform:scale(0);text-align:center;border-radius:6px;position:absolute;pointer-events:none;z-index:1100;top:0;left:0}[_nghost-%COMP%]   .tooltip-label[_ngcontent-%COMP%]{text-align:var(--tooltip-text-align)}.show[_nghost-%COMP%]{opacity:1;transform:scale(1);transition:opacity var(--transition-time) linear,transform var(--transition-time) linear}.hide[_nghost-%COMP%]{opacity:0;transform:scale(0);transition:opacity .1s linear,transform .1s linear}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip[_nghost-%COMP%]{border:1px solid rgba(0,0,0,.06);background-color:var(--tooltip-background-color);color:var(--tooltip-text-color)}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:var(--tooltip-background-color)}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:var(--tooltip-background-color);content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top[_nghost-%COMP%]{margin-top:-2px;border:1px solid var(--tooltip-border-color)}.tooltip-top[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:calc(50% - 7px);margin-top:-3px;background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}.tooltip-top[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px;border-top:1px solid var(--tooltip-border-color);border-right:1px solid var(--tooltip-border-color)}.tooltip-top-left[_nghost-%COMP%]{border:1px solid var(--tooltip-border-color)}.tooltip-top-left[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:calc(20% - 7px);margin-top:-3px;background:linear-gradient(to bottom left,rgba(0,0,0,.07) 50%,transparent 50%)}.tooltip-top-left[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px;border-top:1px solid var(--tooltip-border-color);border-right:1px solid var(--tooltip-border-color)}.tooltip-bottom[_nghost-%COMP%]{border:1px solid var(--tooltip-border-color)}.tooltip-bottom[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:calc(50% - 7px);margin-bottom:-3px;background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}.tooltip-bottom[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px;border-bottom:1px solid var(--tooltip-border-color);border-left:1px solid var(--tooltip-border-color)}.tooltip-bottom-left[_nghost-%COMP%]{border:1px solid var(--tooltip-border-color)}.tooltip-bottom-left[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:calc(20% - 7px);margin-bottom:-3px;background:linear-gradient(to top right,rgba(0,0,0,.1) 50%,transparent 50%)}.tooltip-bottom-left[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px;border-bottom:1px solid var(--tooltip-border-color);border-left:1px solid var(--tooltip-border-color)}.tooltip-left[_nghost-%COMP%]{border:1px solid var(--tooltip-border-color)}.tooltip-left[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:calc(50% - 4px);left:100%;margin-left:-3px;background:linear-gradient(to bottom right,rgba(0,0,0,.07) 50%,transparent 50%)}.tooltip-left[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px;border-top:1px solid var(--tooltip-border-color);border-left:1px solid var(--tooltip-border-color)}.tooltip-right[_nghost-%COMP%]{border:1px solid var(--tooltip-border-color)}.tooltip-right[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:calc(50% - 4px);right:100%;margin-right:-3px;background:linear-gradient(to top left,rgba(0,0,0,.07) 50%,transparent 50%)}.tooltip-right[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px;border-bottom:1px solid var(--tooltip-border-color);border-right:1px solid var(--tooltip-border-color)}']})}}return i})(),pt=(()=>{class i{get contentType(){return this.mergedOptions.contentType}set id(t){this.collectedOptions.id=t}set placement(t){this.collectedOptions.placement=t}set autoPlacement(t){this.collectedOptions.autoPlacement=t}set textColor(t){this.collectedOptions.textColor=t}set backgroundColor(t){this.collectedOptions.backgroundColor=t}set borderColor(t){this.collectedOptions.borderColor=t}set textAlign(t){this.collectedOptions.textAlign=t}set padding(t){this.collectedOptions.padding=t}set hideDelayTouchscreen(t){this.collectedOptions.hideDelayTouchscreen=t}set zIndex(t){this.collectedOptions.zIndex=t}set animationDuration(t){this.collectedOptions.animationDuration=t}set trigger(t){this.collectedOptions.trigger=t}set tooltipClass(t){this.collectedOptions.tooltipClass=t}set display(t){this.collectedOptions.display=t}set displayTouchscreen(t){this.collectedOptions.displayTouchscreen=t}set shadow(t){this.collectedOptions.shadow=t}set offset(t){this.collectedOptions.offset=t}set width(t){this.collectedOptions.width=t}set minWidth(t){this.collectedOptions.minWidth=t}set maxWidth(t){this.collectedOptions.maxWidth=t}set showDelay(t){this.collectedOptions.showDelay=t}set hideDelay(t){this.collectedOptions.hideDelay=t}set hideDelayAfterClick(t){this.collectedOptions.hideDelayAfterClick=t}set pointerEvents(t){this.collectedOptions.pointerEvents=t}set position(t){this.collectedOptions.position=t}get isTooltipComponentDestroyed(){return!this.refToTooltipComponent?.location.nativeElement.isConnected}get hostElementPosition(){return this.mergedOptions.position??this.hostElementRef.nativeElement.getBoundingClientRect()}get isDisplayOnHover(){return!(this.mergedOptions.display==!1||this.mergedOptions.displayTouchscreen==!1&&this.isTouchScreen||this.mergedOptions.trigger!=="hover")}get isDisplayOnClick(){return!(this.mergedOptions.display==!1||this.mergedOptions.displayTouchscreen==!1&&this.isTouchScreen||this.mergedOptions.trigger!="click")}get isTouchScreen(){return"ontouchstart"in window||window.matchMedia("(any-pointer: coarse)").matches}constructor(t,e,o,s,a){this.initOptions=t,this.hostElementRef=e,this.viewContainerRef=o,this.appRef=s,this.injector=a,this.mergedOptions={},this.collectedOptions={},this.options={},this.events=new j,this.isTooltipVisible=!1,this.clearTimeouts$=new c,this.unsubscribeInputListeners$=new c,this.destroy$=new c}ngOnInit(){this.mergedOptions=this.getMergedTooltipOptions(),this.subscribeToShowTriggers()}ngOnChanges(t){this.mergedOptions=this.getMergedTooltipOptions()}setTooltipContent(t,e){this._tooltipContent=t,this.collectedOptions.contentType=e}setTooltipContext(t){this._tooltipContext=t}show(t=!0){this._tooltipContent&&this.contentType&&(this.clearTimeouts$.next(),this.unsubscribeInputListeners$.next(),this.tooltipComponent&&!this.isTooltipComponentDestroyed?(this.setTooltipVisibility("visible"),t||(this.subscribeToHideTriggers(),this.subscribeToResizeEvents())):this.createTooltip(t))}hide(t=!0){this.isTooltipVisible&&(this.clearTimeouts$.next(),this.unsubscribeInputListeners$.next(),this.setTooltipVisibility("hidden"),t||this.subscribeToShowTriggers())}subscribeToShowTriggers(){let t=[];if(this.isDisplayOnHover){let e=l(this.hostElementRef.nativeElement,"mouseenter"),o=l(this.hostElementRef.nativeElement,"focusin");t.push(e,o)}else if(this.isDisplayOnClick){let e=l(this.hostElementRef.nativeElement,"click");t.push(e)}O(t).pipe(D(()=>(this.clearTimeouts$.next(),this.showTooltipAfterDelay(this.mergedOptions.showDelay??0))),n(f(this.unsubscribeInputListeners$,this.destroy$))).subscribe()}subscribeToHideTriggers(){let t=[l(document,"scroll")];if(this.isDisplayOnHover){let e=l(this.hostElementRef.nativeElement,"mouseleave"),o=l(this.hostElementRef.nativeElement,"focusout");t.push(e,o)}if(this.tooltipComponent){let e=this.tooltipComponent.userClickOutsideTooltip$;t.push(e)}O(t).pipe(D(()=>(this.clearTimeouts$.next(),this.hideTooltipAfterDelay(this.mergedOptions.hideDelay??0))),n(f(this.unsubscribeInputListeners$,this.destroy$))).subscribe()}subscribeToResizeEvents(){let t=l(window,"resize");f(t).pipe(I(100),b(()=>this.isTooltipVisible&&!!this.tooltipComponent),p(()=>{this.tooltipComponent&&(this.tooltipComponent.hostElementPosition=this.hostElementPosition,this.tooltipComponent.setPosition())}),n(f(this.unsubscribeInputListeners$,this.destroy$))).subscribe()}createTooltip(t){this.clearTimeouts$.next(),C(this.mergedOptions.showDelay??0).pipe($(),n(this.destroy$||this.clearTimeouts$),p(()=>{this.appendComponentToBody(),this.setTooltipVisibility("visible"),t||(this.subscribeToHideTriggers(),this.subscribeToResizeEvents())}),n(this.destroy$)).subscribe()}showTooltipAfterDelay(t){return C(t).pipe(n(this.clearTimeouts$),p(()=>this.show(!1)))}hideTooltipAfterDelay(t){return C(t).pipe(n(this.clearTimeouts$),p(()=>this.hide(!1)))}appendComponentToBody(){if(this.refToTooltipComponent=this.viewContainerRef.createComponent(it,{injector:this.injector}),this.tooltipComponent=this.refToTooltipComponent.instance,!this.tooltipComponent)return;let t=this.refToTooltipComponent.location.nativeElement;document.body.appendChild(t),this.tooltipComponent?.visibilityChangeCompleted$.pipe(p(({type:e})=>{e==="shown"&&this.events.emit({type:"shown",position:this.hostElementPosition}),e==="hidden"&&this.events.emit({type:"hidden",position:this.hostElementPosition})}),n(this.destroy$)).subscribe()}setTooltipVisibility(t){if(t==="visible"&&this.tooltipComponent&&this._tooltipContent&&this.contentType){this.events.emit({type:"show",position:this.hostElementPosition});let e=this.assembleTooltipData();this.showTooltipOnHostComponent(e),this.isTooltipVisible=!0}else t==="hidden"&&this.isTooltipVisible&&!this.isTooltipComponentDestroyed&&(this.events.emit({type:"hide",position:this.hostElementPosition}),this.hideTooltipOnHostComponent(),this.isTooltipVisible=!1)}showTooltipOnHostComponent(t){this.tooltipComponent&&this.tooltipComponent.showTooltip(t)}hideTooltipOnHostComponent(){this.tooltipComponent&&this.tooltipComponent?.hideTooltip()}assembleTooltipData(){return{tooltipStr:this.contentType==="string"?this._tooltipContent:void 0,tooltipHtml:this.contentType==="html"?this._tooltipContent:void 0,tooltipTemplate:this.contentType==="template"?this._tooltipContent:void 0,tooltipContext:this.contentType==="template"?this._tooltipContext:void 0,hostElement:this.hostElementRef.nativeElement,hostElementPosition:this.hostElementPosition,options:this.mergedOptions}}destroyTooltip(){if(this.clearTimeouts$?.next(),this.destroy$?.next(),!this.isTooltipComponentDestroyed&&this.refToTooltipComponent){let t=this.isTooltipVisible;t&&this.events.emit({type:"hide",position:this.hostElementPosition}),this.appRef.detachView(this.refToTooltipComponent.hostView),this.refToTooltipComponent.destroy(),t&&this.events.emit({type:"hidden",position:this.hostElementPosition})}this.tooltipComponent=void 0,this.refToTooltipComponent=void 0}getMergedTooltipOptions(){return Object.assign({},r,this.initOptions||{},this.options,this.collectedOptions)}ngOnDestroy(){this.destroyTooltip(),this.clearTimeouts$.unsubscribe(),this.destroy$.unsubscribe()}static{this.\u0275fac=function(e){return new(e||i)(h(ot,8),h(w),h(B),h(Z),h(W))}}static{this.\u0275dir=P({type:i,inputs:{options:"options",id:"id",placement:"placement",autoPlacement:"autoPlacement",textColor:"textColor",backgroundColor:"backgroundColor",borderColor:"borderColor",textAlign:"textAlign",padding:"padding",hideDelayTouchscreen:"hideDelayTouchscreen",zIndex:"zIndex",animationDuration:"animationDuration",trigger:"trigger",tooltipClass:"tooltipClass",display:"display",displayTouchscreen:"displayTouchscreen",shadow:"shadow",offset:"offset",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",showDelay:"showDelay",hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},features:[F]})}}return i})(),Ot=(()=>{class i extends pt{set tooltipStr(t){super.setTooltipContent(t,"string")}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=R(i)))(o||i)}})()}static{this.\u0275dir=P({type:i,selectors:[["","tooltipStr",""]],inputs:{tooltipStr:"tooltipStr"},exportAs:["tooltipStr"],features:[Y]})}}return i})();var Dt=(()=>{class i{static forRoot(t){return{ngModule:i,providers:[{provide:ot,useValue:t}]}}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=N({type:i})}static{this.\u0275inj=A({imports:[it]})}}return i})();export{Ot as a,Dt as b};
